# 4.6 dret 指令
4.6 dret指令

```text

要从调试模式返回，需要定义一个新的指令:dret。 // 要进入 调试模式, 可以执行 ebreak
它的编码是0x7b200073。
在支持此指令的hart上，在调试模式下执行dret会做如下动作
    将pc更改为dpc中存储的值。
	当前的特权级别被修改为dcsr中由prv指定的级别A
    hart退出调试模式,进入模式A并开始运行
    
在调试模式之外执行dret会导致非法指令异常
    
调试器不需要知道一个实现是否支持dret，因为Debug模块将确保在必要时执行它。 ???
在这个规范中定义 0x7b200073 只是为了保留操作码并允许可重用的调试模块实现。

```
